# ===============================================
# KULONDA B2B - CONFIGURAÇÃO DO AMBIENTE
# ===============================================
# Sistema de E-commerce com Faturação Eletrónica AGT
# Última atualização: 03/11/2025
# ===============================================

# -----------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------
APP_NAME="Kulonda"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost
APP_TIMEZONE=Africa/Luanda
SYSTEM_KEY=

DEMO_MODE=Off

LOG_CHANNEL=stack
LOG_LEVEL=debug

# -----------------------------------------------
# DATABASE
# -----------------------------------------------
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=kulonda_db
DB_USERNAME=root
DB_PASSWORD=

# -----------------------------------------------
# CACHE & SESSION
# -----------------------------------------------
BROADCAST_DRIVER=log
CACHE_DRIVER=file
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120

# -----------------------------------------------
# REDIS (Opcional - para performance)
# -----------------------------------------------
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# -----------------------------------------------
# EMAIL
# -----------------------------------------------
MAIL_DRIVER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=465
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=noreply@kulonda.ao
MAIL_FROM_NAME="${APP_NAME}"

# -----------------------------------------------
# PUSHER (Real-time notifications)
# -----------------------------------------------
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=mt1

MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# ===============================================
# PAYMENT GATEWAYS
# ===============================================

# -----------------------------------------------
# PROXYPAY (Angola)
# -----------------------------------------------
PROXYPAY_API_KEY=your_proxypay_api_key
PROXYPAY_ENVIRONMENT=sandbox
PROXYPAY_API_URL=https://api.proxypay.co.ao

# -----------------------------------------------
# PAYPAL
# -----------------------------------------------
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# -----------------------------------------------
# STRIPE
# -----------------------------------------------
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=

# ===============================================
# AGT - ADMINISTRAÇÃO GERAL TRIBUTÁRIA
# ===============================================
# Sistema de Faturação Eletrónica de Angola
# Documentação: https://www.agt.minfin.gov.ao/
# ===============================================

# -----------------------------------------------
# AGT - CONFIGURAÇÕES GERAIS
# -----------------------------------------------
AGT_ENABLED=true
AGT_ENVIRONMENT=sandbox
AGT_SANDBOX_URL=https://sandbox.agt.minfin.gov.ao/api/v1
AGT_PRODUCTION_URL=https://api.agt.minfin.gov.ao/api/v1

# -----------------------------------------------
# AGT - CREDENCIAIS
# -----------------------------------------------
# Obtenha suas credenciais no Portal AGT
AGT_CLIENT_ID=your_agt_client_id
AGT_CLIENT_SECRET=your_agt_client_secret
AGT_NIF=your_company_nif
AGT_SOFTWARE_CERTIFICATE=your_software_certificate

# -----------------------------------------------
# AGT - mTLS CERTIFICATES
# -----------------------------------------------
# Certificados para autenticação mútua TLS
AGT_CLIENT_CERT_PATH=/path/to/client.crt
AGT_CLIENT_KEY_PATH=/path/to/client.key
AGT_CA_CERT_PATH=/path/to/ca.crt
AGT_CLIENT_KEY_PASSWORD=

# -----------------------------------------------
# AGT - ASSINATURA DIGITAL
# -----------------------------------------------
# Par de chaves RSA para assinatura de documentos
AGT_PRIVATE_KEY_PATH=/path/to/private.key
AGT_PUBLIC_KEY_PATH=/path/to/public.key
AGT_SIGNATURE_ALGORITHM=SHA256withRSA

# -----------------------------------------------
# AGT - TIMEOUTS & RETRY
# -----------------------------------------------
AGT_CONNECTION_TIMEOUT=30
AGT_REQUEST_TIMEOUT=60
AGT_MAX_RETRIES=3
AGT_RETRY_DELAY=5

# -----------------------------------------------
# AGT - CACHE
# -----------------------------------------------
# Cache de tokens de autenticação OAuth2
AGT_CACHE_TTL=3600
AGT_TOKEN_CACHE_KEY=agt_oauth_token

# -----------------------------------------------
# AGT - WEBHOOKS (Opcional)
# -----------------------------------------------
# URL para receber notificações da AGT
AGT_WEBHOOK_URL="${APP_URL}/api/webhooks/agt"
AGT_WEBHOOK_SECRET=

# -----------------------------------------------
# AGT - LOGGING
# -----------------------------------------------
AGT_LOG_REQUESTS=true
AGT_LOG_RESPONSES=true
AGT_LOG_ERRORS=true
AGT_LOG_CHANNEL=agt

# ===============================================
# FISCAL DOCUMENTS
# ===============================================

# -----------------------------------------------
# EMPRESA - DADOS FISCAIS
# -----------------------------------------------
COMPANY_NAME="Kulonda Lda"
COMPANY_NIF=your_company_nif
COMPANY_ADDRESS="Luanda, Angola"
COMPANY_PHONE="+244 XXX XXX XXX"
COMPANY_EMAIL=fiscal@kulonda.ao
COMPANY_LOGO_PATH=/path/to/logo.png

# -----------------------------------------------
# SEQUÊNCIAS DE DOCUMENTOS
# -----------------------------------------------
# Série padrão para cada tipo de documento
FISCAL_FR_SERIE=A
FISCAL_FT_SERIE=A
FISCAL_FS_SERIE=A
FISCAL_NC_SERIE=A
FISCAL_ND_SERIE=A
FISCAL_RC_SERIE=A
FISCAL_FP_SERIE=A
FISCAL_GR_SERIE=A

# Ano fiscal inicial
FISCAL_START_YEAR=2025

# -----------------------------------------------
# PDF GENERATION
# -----------------------------------------------
PDF_FONT_FAMILY=Arial
PDF_FONT_SIZE=10
PDF_ORIENTATION=portrait
PDF_PAPER_SIZE=A4

# -----------------------------------------------
# QR CODE
# -----------------------------------------------
QRCODE_SIZE=150
QRCODE_MARGIN=10
QRCODE_FORMAT=png

# -----------------------------------------------
# FISCAL - BUSINESS RULES
# -----------------------------------------------
# Limite para Fatura Simplificada (em Kwanzas)
FISCAL_FS_LIMIT=50000

# IVA padrão (%)
FISCAL_DEFAULT_IVA_RATE=14

# Dias para vencimento de faturas
FISCAL_DEFAULT_DUE_DAYS=30

# -----------------------------------------------
# FISCAL - FEATURES
# -----------------------------------------------
FISCAL_AUTO_SEND_AGT=true
FISCAL_AUTO_SEND_EMAIL=true
FISCAL_AUTO_GENERATE_PDF=true

# -----------------------------------------------
# FISCAL - QUEUE
# -----------------------------------------------
# Nome da fila para processar documentos fiscais
FISCAL_QUEUE_NAME=fiscal_documents
FISCAL_QUEUE_CONNECTION=redis

# ===============================================
# EXTERNAL SERVICES
# ===============================================

# -----------------------------------------------
# AWS S3 (Para armazenamento de PDFs)
# -----------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# -----------------------------------------------
# CLOUDFLARE (CDN)
# -----------------------------------------------
CLOUDFLARE_API_KEY=
CLOUDFLARE_ZONE_ID=

# -----------------------------------------------
# SENTRY (Error tracking)
# -----------------------------------------------
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===============================================
# DESENVOLVIMENTO
# ===============================================

# -----------------------------------------------
# DEBUG TOOLS
# -----------------------------------------------
DEBUGBAR_ENABLED=false
TELESCOPE_ENABLED=false

# -----------------------------------------------
# TESTING
# -----------------------------------------------
TEST_DB_DATABASE=kulonda_test
TEST_AGT_SANDBOX_MODE=true

# ===============================================
# NOTAS IMPORTANTES
# ===============================================
# 1. Nunca commite este arquivo com valores reais
# 2. Mantenha .env fora do controle de versão
# 3. Use .env.example apenas como template
# 4. Em produção, use valores seguros e complexos
# 5. Certificados AGT devem ter permissões 600
# 6. Chaves privadas nunca devem ser expostas
# ===============================================
